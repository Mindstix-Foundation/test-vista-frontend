<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Test Papers</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../script.js"></script>

    <style>
        /* General card styling */
.card {
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* Card hover effect */
.card:hover {
    transform: scale(1.02);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
}

/* Card header styling */
.card-header {
    background-color: #007bff;
    color: white;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    padding: 10px 15px;
    border-bottom: 1px solid #ddd;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
}

/* Card body styling */
.card-body {
    padding: 20px;
    font-family: Arial, sans-serif;
}

/* Card title styling */
.card-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 15px;
}

/* Card text styling */
.card-text {
    font-size: 14px;
    color: #555;
    line-height: 1.6;
}

/* Button styling */
.btn-primary {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 0.9rem;
    text-transform: uppercase;
    font-weight: bold;
    border-radius: 4px;
    transition: background-color 0.2s ease-in-out;
}

.btn-primary:hover {
    background-color: #0056b3;
    color: white;
}

/* Responsive grid styling */
@media (max-width: 768px) {
    .card {
        margin-bottom: 20px;
    }

    .card-header {
        font-size: 18px;
    }

    .card-text {
        font-size: 14px;
    }

    .btn-primary {
        font-size: 0.85rem;
        padding: 8px 12px;
    }
}


        /* Responsive Styles */
        @media (max-width: 768px) {
            .card {
                margin-bottom: 15px;
                /* Space between stacked cards */
            }

            /* Ensure search and sort input/buttons adjust their size */
            #searchInput,
            #sortSelect {
                width: 100%;
            }

            .input-group,
            .d-flex {
                width: 100%;
            }
        }

        /* Custom search input with icon */
        .search-container {
            position: relative;
        }

        .search-container .form-control {
            padding-left: 35px;
            /* Space for the icon */
        }

        .search-container .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
        }
    </style>
</head>

<body>
    <div id="navbar-container"></div> <!-- Navbar will be loaded here -->

    <!-- Main Container -->
    <div class="container mt-5">
        <div class="text-center mb-4">
            <h3>View Previous Test Papers</h3>
        </div


        <!-- Search and Sorting Controls: Side-by-Side Version -->
        <div class="row mb-4 d-flex">
            <div class="col-md-8 mb-3">
                <div class="search-container">
                    <i class="bi bi-search search-icon"></i>
                    <input type="text" id="searchInput" class="form-control" oninput="searchTestPapers()"
                        placeholder="Search by Name, Subject, Marks, Date">
                </div>
            </div>

            <div class="col-md-4 mb-3">
                <select id="sortSelect" class="form-select" onchange="sortTestPapers()">
                    <option value="name-asc">Sort by Name (A-Z)</option>
                    <option value="name-desc">Sort by Name (Z-A)</option>
                    <option value="date-asc">Sort by Date (Oldest First)</option>
                    <option value="date-desc">Sort by Date (Newest First)</option>
                    <option value="marks-asc">Sort by Marks (Low to High)</option>
                    <option value="marks-desc">Sort by Marks (High to Low)</option>
                </select>
            </div>
        </div>

        <!-- Test Papers Cards -->
        <div class="row" id="testPaperCards">
            <!-- Card 1 -->
            <div class="col-md-4 mb-4 test-paper" data-name="Mid Term Paper" data-date="2024-11-16T11:50:00"
                data-subject="Science" data-marks="20">
                <div class="card" onclick="window.location.href='../testPaper/testPaperView.html'">
                    <h5 class="card-header">Mid Term Paper</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> Science<br>
                            <strong>Total Marks:</strong> 20<br>
                            <strong>Pattern Name:</strong> MCQ Only<br>
                            <strong>Created At:</strong> 16-11-2024 11:50 AM
                        </p>
                
                    </div>
                </div>
            </div>
        
            <!-- Card 2 -->
            <div class="col-md-4 mb-4 test-paper" data-name="End Term Paper" data-date="2024-11-14T11:50:00"
                data-subject="Science-2" data-marks="40">
                <div class="card" onclick="window.location.href='../testPaper/testPaper2.html'">
                    <h5 class="card-header">End Term Paper</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> Science-2<br>
                            <strong>Total Marks:</strong> 40<br>
                            <strong>Pattern Name:</strong> Board Paper Pattern<br>
                            <strong>Created At:</strong> 14-11-2024 11:55 AM
                        </p>
                
                    </div>
                </div>
            </div>
        
            <!-- Card 3 -->
            <div class="col-md-4 mb-4 test-paper" data-name="Final Exam" data-date="2024-12-01T09:00:00"
                data-subject="Mathematics" data-marks="50">
                <div class="card" onclick="window.location.href='../testPaper/testPaper2.html'">
                    <h5 class="card-header">Final Exam</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> Mathematics<br>
                            <strong>Total Marks:</strong> 50<br>
                            <strong>Pattern Name:</strong> Board Pattern<br>
                            <strong>Created At:</strong> 01-12-2024 09:00 AM
                        </p>
                
                    </div>
                </div>
            </div>
        
            <!-- Card 4 -->
            <div class="col-md-4 mb-4 test-paper" data-name="Unit Test 1" data-date="2024-11-20T10:30:00"
                data-subject="English" data-marks="30">
                <div class="card" onclick="window.location.href='../testPaper/testPaper3.html'">
                    <h5 class="card-header">Unit Test 1</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> English<br>
                            <strong>Total Marks:</strong> 30<br>
                            <strong>Pattern Name:</strong> Short Answer<br>
                            <strong>Created At:</strong> 20-11-2024 10:30 AM
                        </p>
                
                    </div>
                </div>
            </div>
        
            <!-- Card 5 -->
            <div class="col-md-4 mb-4 test-paper" data-name="Quarterly Exam" data-date="2024-11-25T14:00:00"
                data-subject="History" data-marks="40">
                <div class="card" onclick="window.location.href='../testPaper/testPaper4.html'">
                    <h5 class="card-header">Quarterly Exam</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> History<br>
                            <strong>Total Marks:</strong> 40<br>
                            <strong>Pattern Name:</strong> Essay Type<br>
                            <strong>Created At:</strong> 25-11-2024 02:00 PM
                        </p>
                
                    </div>
                </div>
            </div>
        
            <!-- Card 6 -->
            <div class="col-md-4 mb-4 test-paper" data-name="Annual Exam" data-date="2024-12-15T15:30:00"
                data-subject="Geography" data-marks="60">
                <div class="card" onclick="window.location.href='../testPaper/testPaper5.html'">
                    <h5 class="card-header">Annual Exam</h5>
                    <div class="card-body">
                      
                        <p class="card-text">
                            <strong>Standard:</strong> 10th<br>
                            <strong>Subject:</strong> Geography<br>
                            <strong>Total Marks:</strong> 60<br>
                            <strong>Pattern Name:</strong> Multiple Choice & Short Answer<br>
                            <strong>Created At:</strong> 15-12-2024 03:30 PM
                        </p>
                
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <script>
        // Function to filter test papers based on search input
        function searchTestPapers() {
            const searchQuery = document.getElementById("searchInput").value.toLowerCase();
            const papers = document.querySelectorAll(".test-paper");

            papers.forEach(paper => {
                const name = paper.getAttribute("data-name").toLowerCase();
                const subject = paper.getAttribute("data-subject").toLowerCase();
                const marks = paper.getAttribute("data-marks");
                const date = paper.getAttribute("data-date").toLowerCase();

                if (name.includes(searchQuery) || subject.includes(searchQuery) || marks.includes(searchQuery) || date.includes(searchQuery)) {
                    paper.style.display = "block";
                } else {
                    paper.style.display = "none";
                }
            });
        }

        // Function to sort test papers based on selected criteria
        function sortTestPapers() {
            const sortOption = document.getElementById("sortSelect").value;
            const papers = Array.from(document.querySelectorAll(".test-paper"));

            papers.sort((a, b) => {
                let compareValue = 0;

                if (sortOption.includes("name")) {
                    const nameA = a.getAttribute("data-name").toLowerCase();
                    const nameB = b.getAttribute("data-name").toLowerCase();
                    compareValue = nameA.localeCompare(nameB);
                } else if (sortOption.includes("date")) {
                    const dateA = new Date(a.getAttribute("data-date"));
                    const dateB = new Date(b.getAttribute("data-date"));
                    compareValue = dateA - dateB;
                } else if (sortOption.includes("marks")) {
                    const marksA = parseInt(a.getAttribute("data-marks"));
                    const marksB = parseInt(b.getAttribute("data-marks"));
                    compareValue = marksA - marksB;
                }

                // Handle ascending or descending sorting
                if (sortOption.includes("desc")) {
                    compareValue = -compareValue;
                }

                return compareValue;
            });

            const container = document.getElementById("testPaperCards");
            papers.forEach(paper => {
                container.appendChild(paper);  // Reorder cards in the DOM
            });
        }
    </script>
        <div id="footer-container"></div>
</body>

</html>